---
description: "MySQL rules"
globs: ["server/db/mysqlPool.ts", "server/db/mysqlPool.js", "server.js"]
alwaysApply: true
---

# MySQL

## Must
- "Use mysql2/promise createPool() with connectionLimit and idleTimeout"
- "Centralize pool creation in server/db/mysqlPool.ts|js; export a getPool()"
- "Parameterize all queries; never string-interpolate identifiers or values"

## Should
- "Use migrations for schema and seeds (e.g., node-based migration scripts)"

## Avoid
- "Global mutable mysqlConnection singletons; prefer pool and per-request connections"
